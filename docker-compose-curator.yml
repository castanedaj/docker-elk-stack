version: "2"

services: 
  curator:
    build: curator
    network_mode: "service:elasticsearch"
    volumes: 
    - ./curator/actions:/usr/share/curator
    environment: 
    - CLIENT_HTTP_AUTH=${ES_USER}:${ES_PASSWORD}
    - CLIENT_USE_SSL=True
    - CLIENT_SSL_NO_VALIDATE=True
    - SNAPSHOT_REPOSITORY=local
    depends_on: 
    - elasticsearch